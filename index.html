<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programme MBA</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        
        :root {
            --bg-color: #1a202c;
            --card-bg: #2d3748;
            --card-bg-light: #4a5568;
            --text-color: #e2e8f0;
            --secondary-text-color: #a0aec0;
            --accent-yellow: #ffc107;
            --accent-pink: #ff4081;
            --accent-green: #38a169;
            --accent-indigo: #4c51bf;
            --accent-fuchsia: #d53f8c;
            --accent-blue: #4299e1;
            --accent-orange: #ed8936;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 2rem;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .header h1 span {
            color: var(--accent-yellow);
        }

        .header p {
            color: var(--secondary-text-color);
        }

        .specialization-selection {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
            color: #fff;
        }

        .btn-cdo {
            background-color: var(--card-bg);
            color: var(--secondary-text-color);
        }

        .btn-cdo.active {
            background-color: var(--accent-orange);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            color: white;
        }

        .btn-sd {
            background-color: var(--card-bg);
            color: var(--secondary-text-color);
        }

        .btn-sd.active {
            background-color: var(--accent-fuchsia);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            color: white;
        }

        .section {
            background-color: var(--card-bg);
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-bottom: 2rem;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        
        .card-header-main {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .card-header h2, .card-header-main h2 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 700;
        }

        .card-header h3 {
            margin: 0;
            font-size: 1rem;
            font-weight: 600;
        }

        .progress-bar-container {
            width: 6rem;
            background-color: var(--card-bg-light);
            border-radius: 9999px;
            height: 0.5rem;
            overflow: hidden;
            margin-left: 0.5rem;
        }

        .progress-bar {
            height: 100%;
            border-radius: 9999px;
            transition: width 0.5s ease-in-out;
            background: linear-gradient(90deg, #ffc107, #ff4081);
        }

        .progress-bar-block {
            height: 100%;
            border-radius: 9999px;
            transition: width 0.5s ease-in-out;
        }

        .progress-bar-cdo {
            background-color: var(--accent-orange);
        }

        .progress-bar-sd {
            background-color: var(--accent-fuchsia);
        }

        .block-container {
            border-left: 4px solid var(--card-bg-light);
        }

        .chevron-icon {
            width: 1.5rem;
            height: 1.5rem;
            transition: transform 0.3s;
        }

        .chevron-icon.rotate {
            transform: rotate(90deg);
        }

        .evaluation-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 0;
        }

        .evaluation-item input[type="checkbox"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 1rem;
            height: 1rem;
            background-color: var(--bg-color);
            border: 1px solid var(--card-bg-light);
            border-radius: 0.25rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .evaluation-item input[type="checkbox"]:checked {
            background-color: var(--accent-pink);
            border-color: var(--accent-pink);
        }

        .evaluation-item input[type="checkbox"]:checked::after {
            content: 'âœ“';
            display: block;
            color: white;
            text-align: center;
            line-height: 1rem;
        }

        .evaluation-details {
            font-size: 0.875rem;
            color: var(--secondary-text-color);
        }

        .criteria-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .criteria-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .criteria-bullet {
            font-size: 1rem;
            margin-right: 0.5rem;
            flex-shrink: 0;
            color: var(--accent-yellow);
        }

        .justified-text {
            text-align: justify;
        }

        .form-section {
            background-color: var(--card-bg);
            border-radius: 0.75rem;
            padding: 2rem;
            max-width: 40rem;
            margin: 0 auto 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            margin-top: 0.25rem;
            border-radius: 0.375rem;
            border: 1px solid var(--card-bg-light);
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: border-color 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-blue);
        }

        .btn-primary {
            background-color: var(--accent-blue);
            color: white;
            font-weight: 700;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: background-color 0.2s;
        }
        
        .btn-primary:hover {
            background-color: #3182ce;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 9999px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.2s;
        }

        .whatsapp {
            background-color: var(--accent-green);
        }
        
        .whatsapp:hover {
            background-color: #2f855a;
        }

        .discord {
            background-color: var(--accent-indigo);
        }
        
        .discord:hover {
            background-color: #434190;
        }

        .notion {
            background-color: var(--accent-pink);
        }
        
        .notion:hover {
            background-color: #d53f8c;
        }

        .scroll-to-top {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            background-color: var(--accent-blue);
            color: white;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: background-color 0.2s;
        }
        
        .scroll-to-top:hover {
            background-color: #3182ce;
        }

        .scroll-to-top-icon {
            width: 1.5rem;
            height: 1.5rem;
        }

        .text-cdo {
            color: var(--accent-orange);
        }

        .text-sd {
            color: var(--accent-fuchsia);
        }
        
        .bg-cdo {
            background-color: var(--accent-orange);
        }

        .bg-sd {
            background-color: var(--accent-fuchsia);
        }

        .border-cdo {
            border-color: var(--accent-orange);
        }

        .border-sd {
            border-color: var(--accent-fuchsia);
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1 class="header">
                ðŸš€ Programme <span class="text-accent-yellow">MBA</span>
            </h1>
            <p class="text-secondary-text-color">
                Chief Digital Officer (CDO) et StratÃ©gie Digitale (SD)
            </p>
        </header>

        <div id="app-root"></div>

        <section id="motivational-phrase" class="section text-center"></section>
        
        <footer class="text-center text-secondary-text-color mt-12">
            <h3 class="text-lg font-semibold mb-4 text-white">Rejoignez-nous !</h3>
            <div class="social-links">
                <a href="https://chat.whatsapp.com/LHiRDN32feFCEko7VxH5oz" target="_blank" rel="noopener noreferrer" class="social-link whatsapp">
                    <span>ðŸ’¬ WhatsApp</span>
                </a>
                <a href="https://discord.gg/DmKDG5FruF" target="_blank" rel="noopener noreferrer" class="social-link discord">
                    <span>ðŸ‘¾ Discord</span>
                </a>
                <a href="https://www.notion.so/team/208c2c02-df37-8146-b883-004268501963/join" target="_blank" rel="noopener noreferrer" class="social-link notion">
                    <span>âœ¨ Notion</span>
                </a>
            </div>
            <p class="mt-8 text-sm text-gray-500">
                CrÃ©atrice de ce document : Mathilde de Martine PAISLEY "L'Enervante Enervante ðŸ¤ª"
            </p>
        </footer>

        <button id="scroll-to-top-btn" class="scroll-to-top" style="display: none;">
            <svg class="scroll-to-top-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 4l-8 8h6v8h4v-8h6z" />
            </svg>
        </button>
    </div>

    <script>
        // DÃ©claration des donnÃ©es statiques du programme et des sessions
        const initialProgramData = [
            {
                code: 'B1',
                title: "Animer un processus de problÃ©matisation et dâ€™idÃ©ation Ã  partir d'une analyse des besoins clients",
                modules: [
                    { code: 'B1_M1', title: 'Analyser les besoins de clients internes/externes', topics: ['La place de la stratÃ©gie digitale...', 'L\'environnement technologique...', 'La culture et les valeurs...', 'Les Ã©tudes de marchÃ©...', 'La notion de concurrence...', 'Le benchmark digital...', 'Le recueil et l\'analyse des besoins...', 'Identifier et comprendre le client...', 'Le brief digital...'] },
                    { code: 'B1_M2', title: 'Elaborer un dispositif de veille...', topics: ['La dÃ©marche de veille...', 'La veille technologique...', 'La veille concurrentielle et sectorielle...', 'Les autres types de veille...', 'Les matrices de veille...', 'L\'Ã©valuation de la fiabilitÃ©...'] },
                    { code: 'B1_M3', title: 'InterprÃ©ter et articuler une problÃ©matique...', topics: ['La problÃ©matique d\'innovation...', 'Orienter le projet d\'innovation...'] },
                    { code: 'B1_M4', title: 'Identifier et analyser lâ€™ensemble des risques...', topics: ['Analyse des contraintes...', 'Analyse des risques...', 'Analyse de l\'impact...'] },
                    { code: 'B1_M5', title: 'Animer un processus crÃ©atif...', topics: ['Apprendre Ã  gÃ©nÃ©rer des idÃ©es...', 'Design Thinking : DÃ©finir la problÃ©matique...', 'Design Thinking : La phase dâ€™idÃ©ation...', 'Design Thinking : La phase de prototypage...', 'Design Thinking : La phase de test...', 'Design Thinking : La phase de d\'itÃ©ration...', 'Animer un atelier de brainstorming...', 'PrÃ©parer et prÃ©senter un dossier de conception...'] },
                    { code: 'B1_M6', title: 'Evaluer lâ€™adÃ©quation des pistes crÃ©atives...', topics: ['La complÃ©mentaritÃ© Ã©tudes qualitatives / Ã©tudes quantitatives...', 'Les Ã©tudes qualitatives...', 'La mise en Å“uvre d\'Ã©tudes qualitatives...', 'Les types d\'Ã©tudes quantitatives...', 'La rÃ©alisation d\'une enquÃªte...', 'Les mÃ©thodes d\'Ã©chantillonnage...', 'Les Ã©tudes Ã  l\'Ã©preuve du numÃ©rique...'] },
                ],
                evaluation: { title: "Ã‰valuation du Bloc 1", isCompleted: false }
            },
            {
                code: 'B2',
                title: 'Concevoir un projet de transformation et/ou dâ€™innovation',
                modules: [
                    { code: 'B2_M1', title: 'Elaborer la proposition de valeur dâ€™un projet', topics: ['Les fondamentaux d\'une proposition de valeur...', 'Les objectifs d\'une proposition de valeur...', 'Construire et communiquer sa proposition de valeur...'] },
                    { code: 'B2_M2', title: 'DÃ©finir lâ€™organisation, les Ã©tapes et les besoins en ressources d\'un projet', topics: ['La planification d\'un projet web...', 'Le rÃ´le de la note de cadrage...', 'La rÃ©daction d\'un cahier des charges...', 'Les diffÃ©rents acteurs du projet...', 'Identifier et sÃ©lectionner les prestataires...', 'La construction d\'un tableau de bord opÃ©rationnel...'] },
                    { code: 'B2_M3', title: 'DÃ©finir le modÃ¨le Ã©conomique', topics: ['Le budget digital et les dÃ©cisions dâ€™investissement...', 'Calculer la rentabilitÃ© dâ€™un projet digital...', 'L\'Executive Summary d\'un projet d\'innovation...'] },
                    { code: 'B2_M4', title: 'DÃ©finir le business plan d\'un projet de transformation...', topics: ['La prÃ©paration et la structuration du business plan...', 'La faisabilitÃ© Ã©conomique et financiÃ¨re...', 'Quels chiffres dans un business plan...'] },
                    { code: 'B2_M5', title: 'DÃ©fendre la solution sÃ©lectionnÃ©e...', topics: ['PrÃ©senter son Business Plan...', 'Soutenir son business plan...', 'La prÃ©sentation Ã©crite d\'un projet...', 'Des prÃ©sentations de rÃ©sultats impactantes...'] },
                ],
                evaluation: {
                    title: "Ã‰valuation du Bloc 2",
                    details: [
                        { label: "Ã‰valuation Ã©crite", isCompleted: false },
                        { label: "Ã‰valuation vidÃ©o", isCompleted: false }
                    ]
                }
            },
            {
                code: 'B3',
                title: 'Concevoir et mettre en Å“uvre une stratÃ©gie de communication interne/externe',
                modules: [
                    { code: 'B3_M1', title: 'Identifier les cibles de communication...', topics: ['Identifier ses cibles...', 'Les objectifs de communication...', 'Les cibles en fonction des diffÃ©rents rÃ©seaux sociaux...', 'La crÃ©ation des personas...'] },
                    { code: 'B3_M2', title: 'Concevoir et dÃ©ployer une stratÃ©gie de communication Ã  destination de cibles internes', topics: ['La stratÃ©gie de communication : le positionnement...', 'La stratÃ©gie de communication : Les objectifs...', 'La stratÃ©gie de communication : Les cibles...', 'La stratÃ©gie de communication : L\'axe crÃ©atif...', 'Le projet de communication...', 'Fixer des objectifs SMART...', 'Les outils de mesure de l\'efficacitÃ©...', 'La place de la conduite du changement...'] },
                    { code: 'B3_M3', title: 'Elaborer une stratÃ©gie de communication Ã  destination de cibles externes', topics: ['Le positionnement de communication...', 'Le rÃ´le du plan de communication...', 'Les composantes du plan de communication...', 'La dÃ©finition des mÃ©dias cible...', 'La budgÃ©tisation et le calendrier des actions...'] },
                    { code: 'B3_M4', title: 'RÃ©aliser une campagne de communication crÃ©ative', topics: ['Les messages clÃ©s dans le cadre d\'une communication efficace...', 'Structurer son message...', 'Production d\'un message...', 'Le storytelling...', 'Les moyens et supports de communication...'] },
                ],
                evaluation: { title: "Ã‰valuation du Bloc 3", isCompleted: false }
            },
            {
                code: 'B4',
                title: 'Piloter un projet dâ€™innovation et/ou de transformation jusqu\'Ã  la phase de rendu final',
                modules: [
                    { code: 'B4_M1', title: 'RÃ©aliser le prototypage des diffÃ©rentes pistes crÃ©atives', topics: ['La phase dâ€™idÃ©ation...', 'Le prototypage de la solution...', 'La rÃ©alisation de maquettes...', 'Introduction au parcours interactif...'] },
                    { code: 'B4_M2', title: 'Observer les utilisateurs durant la phase test', topics: ['Test utilisateur...', 'Evaluation quantitative...', 'Evaluation qualitative...', 'Recueillir des informations...', 'Ã‰laborer les fiches d\'observation...', 'Construire les rapports de test...'] },
                    { code: 'B4_M3', title: 'Concevoir et rÃ©aliser une solution...', topics: ['La dÃ©marche qualitÃ©...', 'La mesure de la qualitÃ©...', 'Les tests qualitÃ©...', 'Normes et rÃ©glementations...', 'Low tech...', 'PrÃ©sentation d\'une maquette...'] },
                    { code: 'B4_M4', title: 'Piloter des revues de projet', topics: ['La revue de projet dans le cycle de vie...', 'Les participants Ã  la revue de projet...', 'Animer des rÃ©unions structurÃ©es...', 'Les outils d\'une revue de projet...'] },
                    { code: 'B4_M5', title: 'Ã‰valuer l\'atteinte des objectifs...', topics: ['Le cahier des charges des livrables...', 'Ã‰lÃ©ments et critÃ¨res de mesure de l\'expÃ©rience client...', 'Le management de la qualitÃ© des projets...', 'L\'Ã©valuation d\'un projet : le bilan qualitatif...'] },
                    { code: 'B4_M6', title: 'Piloter une dÃ©marche dâ€™amÃ©lioration continue', topics: ['Le suivi des indicateurs qualitÃ©...', 'Organiser une gouvernance...', 'MÃ©thodologie pour piloter un projet digital...', 'Ã‰mettre des recommandations pour les futurs projets...'] },
                ],
                evaluation: { title: "Ã‰valuation du Bloc 4", isCompleted: false }
            },
            {
                code: 'B5',
                title: 'Manager une Ã©quipe projet, une direction technique et/ou une Ã©quipe transverse',
                modules: [
                    { code: 'B5_M1', title: 'SÃ©lectionner les membres de lâ€™Ã©quipe projet...', topics: ['Recruter les compÃ©tences opÃ©rationnelles...', 'Les compÃ©tences et talents...', 'Typologie des organismes de prestataires...', 'L\'utilitÃ© du suivi de la performance...', 'La performance et l\'Ã©valuation de la prestation...'] },
                    { code: 'B5_M2', title: 'Ã‰valuer lâ€™adÃ©quation entre les profils des collaborateurs...', topics: ['Cartographier les compÃ©tences...', 'Les compÃ©tences comportementales ou soft skills...', 'La maÃ®trise des processus...', 'Les relations d\'Ã©quipes face aux tÃ¢ches...', 'L\'amÃ©lioration du travail en Ã©quipe...', 'La communication avec l\'Ã©quipe projet...', 'Traiter les dysfonctionnements...'] },
                    { code: 'B5_M3', title: 'Diriger une Ã©quipe projet composÃ©e d\'intervenants internes et externes', topics: ['Communiquer sur son projet...', 'Le business model canvas...', 'La prÃ©sentation Ã©crite d\'un projet...', 'La politique d\'inclusion en entreprise...', 'La lutte contre la discrimination...'] },
                ],
                evaluation: { title: "Ã‰valuation du Bloc 5", isCompleted: false }
            },
            {
                code: 'B6',
                title: 'Garantir la performance dâ€™un projet de transformation et/ou dâ€™innovation en matiÃ¨re de technique et/ou technologie',
                specialization: 'CDO',
                modules: [
                    { code: 'B6_M1', title: 'Piloter un projet de transformation...', topics: ['Les spÃ©cificitÃ©s du projet digital...', 'Le recueil de l\'analyse des besoins...', 'DÃ©finir la solution et le projet cibles...', 'DÃ©finir les objectifs et faire valider...', 'Le choix technologique de la solution...', 'Le cahier des charges technique : dÃ©tailler...', 'Le cahier des charges technique : du besoin...', 'La construction du planning...', 'Les principaux acteurs : la maÃ®trise dâ€™Å“uvre...', 'Les principaux acteurs : la maÃ®trise dâ€™ouvrage...', 'Ã‰tablir la gouvernance du projet...'] },
                    { code: 'B6_M2', title: 'DÃ©finir lâ€™architecture technique adaptÃ©e...', topics: ['Introduction aux architectures multicouches...', 'Les design patterns...', 'Les frameworks et ORM...', 'Les microservices et architecture distribuÃ©e...', 'L\'Ã©co-conception dans l\'architecture logicielle...', 'L\'offre de service d\'un fournisseur Cloud...', 'Les solutions SaaS...', 'Les principes de sÃ©curitÃ© en architecture...', 'La rÃ©alisation de l\'Ã©tude de faisabilitÃ©...', 'Le cahier des charges technique : description...', 'Le cahier des charges techniques : budget, dÃ©lais...', 'RÃ©diger un dossier technique d\'architecture...'] },
                    { code: 'B6_M3', title: 'Tester sa solution digitale', topics: ['La dÃ©marche qualitÃ© en dÃ©veloppement...', 'La dÃ©marche DevOps...', 'La mise en place de l\'intÃ©gration continue (CI)...', 'La mise en place de la livraison...', 'Les enjeux des plans de test...', 'Ã‰laborer un scÃ©nario de test...', 'Mettre en place un environnement de test...', 'Les outils et les stratÃ©gies des tests de sÃ©curitÃ©...', 'Planifier efficacement les tests...', 'Valider les rÃ©sultats des tests...', 'Automatiser les tests en DevOps...'] },
                    { code: 'B6_M4', title: 'Ã‰mettre des prÃ©conisations quant Ã  la rÃ©solution de problÃ¨mes techniques', topics: ['La rÃ©solution d\'une situation critique...', 'RÃ©aliser une analyse causale...', 'La conception de la solution grÃ¢ce au Design Thinking...'] },
                ],
                evaluation: { title: "Ã‰valuation du Bloc 6", isCompleted: false }
            },
            {
                code: 'B7',
                title: 'Concevoir et mettre en Å“uvre de la stratÃ©gie de communication',
                specialization: 'SD',
                modules: [
                    { code: 'B7_M1', title: 'Ã‰laborer et dÃ©ployer une stratÃ©gie de brand content', topics: ['Une introduction Ã  la stratÃ©gie de contenu...', 'Les Ã©tapes de la stratÃ©gie de contenu...', 'Les KPI dans la stratÃ©gie de contenu...', 'Le dÃ©veloppement d\'une stratÃ©gie de contenu...', 'Les Ã©tapes de la stratÃ©gie de crÃ©ation...', 'RÃ©ussir sa stratÃ©gie de crÃ©ation...', 'L\'orientation artistique et le brief crÃ©atif...', 'Introduction Ã  la production de contenus...', 'La crÃ©ation de contenu digital...', 'Le brand content...', 'Le brand content et le storytelling...', 'Le contenu de marque...'] },
                    { code: 'B7_M2', title: 'Promouvoir un site internet, une application mobile ou une web app', topics: ['Les sites internet...', 'Le rÃ©fÃ©rencement des sites Web...', 'Les nouvelles techniques du SEO...', 'UX/UI Design...', 'Les coÃ»ts de promotion...', 'Introduction aux social ads...', 'Les diffÃ©rentes formes de communication...', 'Les moyens et supports...', 'Les supports audio-visuels...', 'Le multicanal et le mix marketing...', 'Les outils de mesure de l\'efficacitÃ©...'] },
                    { code: 'B7_M3', title: 'Produire un contenu diffÃ©renciant', topics: ['La rÃ©daction de la charte...', 'Les outils du content marketing...', 'Animation du plan dâ€™action marketing...', 'Produire du contenu avec l\'IA gÃ©nÃ©rative...'] },
                ],
                evaluation: { title: "Ã‰valuation du Bloc 7", isCompleted: false }
            },
        ];

        const sessionsData = [
            { promo: '2025', session: 'Session 2', startDate: '2025-01-01', endDate: '2025-11-24', status: 'âœ… Date confirmÃ©e par Studie', isConfirmed: true },
            { promo: '2026', session: 'Session 1', startDate: '2026-01-01', endDate: '2026-05-28', status: 'âš ï¸ Date fictive â€“ en attente de validation', isConfirmed: false },
            { promo: '2026', session: 'Session 2', startDate: '2026-01-01', endDate: '2026-11-26', status: 'âš ï¸ Date fictive â€“ en attente de validation', isConfirmed: false },
            { promo: '2027', session: 'Session 1', startDate: '2027-01-01', endDate: '2027-05-27', status: 'âš ï¸ Date fictive â€“ en attente de validation', isConfirmed: false },
            { promo: '2027', session: 'Session 2', startDate: '2027-01-01', endDate: '2027-11-25', status: 'âš ï¸ Date fictive â€“ en attente de validation', isConfirmed: false },
            { promo: '2028', session: 'Session 1', startDate: '2028-01-01', endDate: '2028-05-25', status: 'âš ï¸ Date fictive â€“ en attente de validation', isConfirmed: false },
            { promo: '2028', session: 'Session 2', startDate: '2028-01-01', endDate: '2028-11-23', status: 'âš ï¸ Date fictive â€“ en attente de validation', isConfirmed: false },
        ];

        const sharedEvaluationCriteria = {
            B1: {
                title: "Animer un processus de problÃ©matisation et d'idÃ©ation...",
                criteria: {
                    "C1.1 Analyser les besoins de clients internes/externes": [
                        "DÃ©montre la bonne utilisation de grilles de lecture issues de plusieurs disciplines (sciences humaines et sociales, sciences du design, marketing, management,...).",
                        "Identification des enjeux et des forces sous-jacents Ã  la demande.",
                        "DÃ©montre sa comprÃ©hension de la culture d'entreprise et du positionnement du commanditaire, et leur influence sur les enjeux rencontrÃ©s.",
                        "DÃ©montre la maÃ®trise des mÃ©thodologies d'interviews, de questionnements et de reformulation."
                    ],
                    "C1.2 Ã‰laborer un dispositif de veille": [
                        "PrÃ©sentation d'une cartographie des principaux domaines de veille exposant la finalitÃ© gÃ©nÃ©rale, les objectifs prÃ©cis et les moyens mobilisÃ©s.",
                        "DÃ©montre la pertinence des outils de veille utilisÃ©s au regard des objectifs recherchÃ©s.",
                        "DÃ©montre la pertinence et la fiabilitÃ© des sources utilisÃ©es.",
                        "SynthÃ©tise l'information et dÃ©montre sa capacitÃ© Ã  la restituer.",
                        "DÃ©montre l'intÃ©rÃªt des informations complÃ©mentaires recherchÃ©es."
                    ],
                    "C1.3 InterprÃ©ter et articuler une problÃ©matique": [
                        "Au travers de sa formulation, le cadre d'intervention et les enjeux doivent transparaÃ®tre de maniÃ¨re claire et concise de faÃ§on Ã  ce que le lecteur puisse dÃ©jÃ  avoir une idÃ©e sur les portÃ©es et limites de l'Ã©tude.",
                        "La possibilitÃ© de travailler sur le sujet prÃ©dÃ©fini se dÃ©montre dans l'Ã©nonciation de la problÃ©matique.",
                        "Le respect de l'Ã©quilibre entre l'exploration et la quÃªte d'innovation est impÃ©ratif.",
                        "DÃ©montre l'intÃ©rÃªt de la problÃ©matique au regard de la culture d'entreprise, des besoins prÃ©alablement identifiÃ©s, de son positionnement, et des enjeux rencontrÃ©s."
                    ],
                    "C1.4 Identifier et analyser l'ensemble des risques": [
                        "DÃ©montre sa connaissance des concepts et mÃ©thodes de management des risques.",
                        "DÃ©finit une politique de management des risques rÃ©aliste au regard du contexte.",
                        "Les Ã©vÃ©nements susceptibles de reprÃ©senter un risque pour le projet sont identifiÃ©s de faÃ§on exhaustive.",
                        "DÃ©montre sa maÃ®trise des outils de gestion des risques (modÃ¨le de cotation de la gravitÃ©).",
                        "Les prÃ©conisations en matiÃ¨re de gestion des risques sont cohÃ©rentes et pertinentes."
                    ],
                    "C1.5 Animer un processus crÃ©atif": [
                        "Le candidat prÃ©sente de faÃ§on ludique l'atelier et explicite les rÃ¨gles et la mÃ©thodologie de dÃ©ploiement. L'explication est claire et comprÃ©hensible pour un public nÃ©ophyte.",
                        "La mÃ©thodologie et les outils utilisÃ©s permettent de favoriser la gÃ©nÃ©ration d'idÃ©es et de garantir le maintien d'une bonne atmosphÃ¨re.",
                        "Le candidat dÃ©montre l'apport de la mÃ©thodologie par rapport au projet Ã  mener. Il explicite et argumente son choix. Il dÃ©montre une prise de hauteur nÃ©cessaire."
                    ],
                    "C1.6 Ã‰valuer l'adÃ©quation des pistes crÃ©atives": [
                        "Le candidat utilise des mÃ©thodologies de tests utilisateurs (quantitatifs ou qualitatifs) suivant des protocoles ad hoc adaptÃ©s.",
                        "Le candidat adopte une attitude d'apprentissage et ne cherche pas Ã  dÃ©fendre sa solution ou Ã  influencer les rÃ©ponses.",
                        "DÃ©montre sa capacitÃ© Ã  prendre en compte des Ã©lÃ©ments issus de la communication non verbale.",
                        "Le candidat documente les rÃ©sultats de maniÃ¨re Ã  en faciliter l'analyse."
                    ]
                }
            },
            B2: {
                title: "Concevoir un projet de transformation et/ou d'innovation",
                criteria: {
                    "C2.1 Ã‰laborer la proposition de valeur": [
                        "La proposition de valeur est pertinente car elle rÃ©pond Ã  la problÃ©matique dÃ©finie.",
                        "Le candidat prÃ©sente les avantages de l'offre face Ã  la concurrence de faÃ§on synthÃ©tique et rÃ©aliste.",
                        "Il dÃ©montre que la proposition de valeur est unique et claire."
                    ],
                    "C2.2 DÃ©finir l'organisation": [
                        "Le candidat choisit et dÃ©taille une mÃ©thodologie de projet adaptÃ©e Ã  l'organisation.",
                        "DÃ©montre sa maÃ®trise de la mÃ©thodologie de gestion de projet.",
                        "Il identifie correctement les parties intÃ©ressÃ©es et prÃ©sente une gouvernance du projet efficiente.",
                        "Il propose un compte rendu et un document de suivi pertinents (visuel, reprenant les solutions sÃ©lectionnÃ©es, le rÃ©troplanning et les livrables attendus)."
                    ],
                    "C2.3 et C2.4 DÃ©finir le modÃ¨le Ã©conomique et le business plan": [
                        "L'executive summary est synthÃ©tique, percutant, pÃ©dagogique et didactique.",
                        "DÃ©montre sa maÃ®trise de la structure d'un business plan complet (nom de l'entreprise, activitÃ©, valeurs, histoire, audience cible, typologie du marchÃ©).",
                        "Les moyens nÃ©cessaires Ã  la mise en Å“uvre du projet sont listÃ©s et sont rÃ©alistes.",
                        "L'Ã©valuation des investissements et des charges globales est cohÃ©rente au regard des capacitÃ©s de financements."
                    ],
                    "C2.5 DÃ©fendre la solution sÃ©lectionnÃ©e": [
                        "Le candidat propose des prÃ©conisations pertinentes et dÃ©montre l'exploitation et la bonne interprÃ©tation des rÃ©sultats des tests utilisateurs.",
                        "Le candidat respecte le cadre et le formalisme imposÃ©s.",
                        "La prÃ©sentation est argumentÃ©e et convaincante."
                    ]
                }
            },
            B3: {
                title: "Conception et mise en Å“uvre d'une stratÃ©gie de communication interne/externe",
                criteria: {
                    "C3.1 Identifier les cibles de communication": [
                        "Le candidat propose une identification de la cible complÃ¨te (habitudes, persona, Ã¢ge, besoins).",
                        "Il segmente la clientÃ¨le de maniÃ¨re pertinente.",
                        "La construction d'un personae synthÃ©tise de faÃ§on claire et concise les rÃ©sultats de l'analyse de l'audience.",
                        "Les objectifs de la stratÃ©gie de communication sont dÃ©finis et sont SMART."
                    ],
                    "C3.2 Concevoir et dÃ©ployer une stratÃ©gie de communication interne": [
                        "Les actions de communication dÃ©ployÃ©es permettent aux collaborateurs de s'approprier le projet.",
                        "Les indicateurs de rÃ©sultats de la stratÃ©gie sont dÃ©finis."
                    ],
                    "C3.3 Ã‰laborer une stratÃ©gie de communication externe": [
                        "La stratÃ©gie de communication reflÃ¨te une traduction crÃ©ative de la proposition de valeur du projet.",
                        "Les objectifs de la stratÃ©gie sont dÃ©finis et sont SMART.",
                        "Les axes de communication et les diffÃ©rents canaux sont dÃ©finis et adaptÃ©s Ã  la cible.",
                        "Le plan de communication est Ã©laborÃ©, avec des actions temporellement planifiÃ©es.",
                        "Le budget de la stratÃ©gie est dÃ©fini et respectÃ©."
                    ],
                    "C3.4 RÃ©aliser une campagne de communication crÃ©ative": [
                        "Les objectifs du dispositif de communication sont clairement dÃ©finis.",
                        "Le message du dispositif est bref et percutant.",
                        "Les techniques de storytelling sont utilisÃ©es.",
                        "Les choix effectuÃ©s respectent les codes de la marque et sont adaptÃ©s Ã  son canal de diffusion (online, off-line) et au support."
                    ]
                }
            },
            B4: {
                title: "Piloter un projet d'innovation et/ou de transformation...",
                criteria: {
                    "C4.1 RÃ©aliser le prototypage": [
                        "Prise en compte des informations qualitatives et quantitatives lors des recherches exploratoires pour la crÃ©ation des reprÃ©sentations de produits, de services, d'espace et d'identitÃ©.",
                        "QualitÃ© et pertinence des reprÃ©sentations produites.",
                        "Pertinence des diffÃ©rents choix techniques, matÃ©riaux, donnÃ©es, ergonomie.",
                        "CrÃ©ativitÃ© et choix esthÃ©tiques.",
                        "Pertinence des solutions proposÃ©es au regard du brief et de la dÃ©marche mise en Å“uvre."
                    ],
                    "C4.2 Observer les utilisateurs": [
                        "Le candidat utilise des mÃ©thodologies de tests utilisateurs quantitatifs ou qualitatifs.",
                        "Le candidat adopte une attitude d'apprentissage et ne cherche pas Ã  dÃ©fendre sa solution ou Ã  influencer les rÃ©ponses.",
                        "DÃ©montre sa capacitÃ© Ã  prendre en compte des Ã©lÃ©ments issus de la communication non verbale.",
                        "Le candidat documente les rÃ©sultats de maniÃ¨re Ã  en faciliter l'analyse."
                    ],
                    "C4.3 Concevoir et rÃ©aliser une solution": [
                        "DÃ©montre la prise en compte de plusieurs critÃ¨res lors de l'Ã©valuation d'une maquette de principe (fonctionnalitÃ©s, ergonomie, rÃ©actions des utilisateurs).",
                        "Pertinence de l'application de la solution (utilitÃ©, utilisabilitÃ© et plaisir Ã  l'usage)."
                    ],
                    "C4.4 Piloter des revues de projet": [
                        "Le candidat dÃ©montre que la revue de projet a Ã©tÃ© menÃ©e de faÃ§on complÃ¨te et systÃ©matique Ã  l'aide de documents.",
                        "Il dÃ©montre que la revue de projet a permis d'Ã©valuer le respect des exigences qualitÃ©, d'identifier les problÃ¨mes et de proposer des solutions.",
                        "Les documents utilisÃ©s retracent l'Ã©volution du projet, rappellent les objectifs et prennent en compte les aspects lÃ©gaux et rÃ©glementaires."
                    ],
                    "C4.5 Ã‰valuer l'atteinte des objectifs": [
                        "Les indicateurs de suivi et de rÃ©ussite du projet utilisÃ©s sont pertinents.",
                        "Le candidat dÃ©montre que le projet a Ã©tÃ© pilotÃ© avec le souci de respecter la problÃ©matique.",
                        "Il propose une Ã©valuation globale du dÃ©roulÃ© et de la rÃ©ussite du projet."
                    ],
                    "C4.6 Piloter une dÃ©marche d'amÃ©lioration continue": [
                        "Le candidat explicite la faÃ§on dont il va mobiliser la direction gÃ©nÃ©rale et la gouvernance du projet.",
                        "La dÃ©marche itÃ©rative est explicitÃ©e et permet d'intÃ©grer facilement des ajustements Ã©ventuels.",
                        "Le candidat identifie correctement les objectifs et freins potentiels Ã  la rÃ©alisation du projet, et apporte des rÃ©ponses permettant de lever ces rÃ©sistances aux changements."
                    ]
                }
            },
            B5: {
                title: "Management d'une Ã©quipe projet, d'une direction technique et/ou d'une Ã©quipe transverse",
                criteria: {
                    "C5.1 et C5.2 SÃ©lectionner et Ã©valuer l'Ã©quipe": [
                        "Le candidat traduit correctement les enjeux du projet et les compÃ©tences clÃ©s Ã  maÃ®triser.",
                        "Il identifie des critÃ¨res ayant permis de constituer une Ã©quipe (expÃ©rience, diplÃ´mes, aspirations).",
                        "Il Ã©value la performance de chaque membre et explicite les axes d'amÃ©lioration.",
                        "Le candidat Ã©value justement le besoin en compÃ©tence de l'Ã©quipe projet.",
                        "Explication claire du rÃ´le de chacun et des ajustements mis en Å“uvre."
                    ],
                    "C5.3 Diriger une Ã©quipe projet": [
                        "Le document doit expliquer de faÃ§on claire et pÃ©dagogique aux diffÃ©rentes parties prenantes le mode de fonctionnement et les consÃ©quences de l'approche de gestion choisie.",
                        "Le candidat rend Ã©videntes les Ã©tapes de production de la solution et les ressources mobilisÃ©es.",
                        "Il dÃ©crit prÃ©cisÃ©ment le dÃ©roulement et la planification d'un cycle d'itÃ©ration.",
                        "Il explicite les rÃ´les des membres de l'Ã©quipe dans la mise en Å“uvre de l'approche."
                    ]
                }
            }
        };

        const cdoEvaluationCriteria = {
            B6: {
                title: "Garantir la performance d'un projet de transformation et/ou d'innovation en matiÃ¨re de technique et/ou technologie",
                criteria: {
                    "C6B.1 Piloter un projet de transformation et/ou d'innovation...": [
                        "Il/elle dÃ©montre sa capacitÃ© Ã  choisir une mÃ©thode et des outils de suivi de projet adaptÃ© Ã  sa nature et aux objectifs stratÃ©giques prÃ©alablement dÃ©finis.",
                        "Il/elle dÃ©finit de faÃ§on exhaustive les livrables attendus (livrables fonctionnels, Ã©ditoriaux, graphiques, et d'intÃ©gration...)",
                        "Il prÃ©sente un calendrier de dÃ©ploiement de projet rÃ©aliste au vu du projet.",
                        "Le candidat prÃ©sente un plan de coordination des acteurs complet comprenant l'animation de rÃ©union, les temps forts type campagnes de communication/sensibilisation... Le plan de coordination est rÃ©aliste."
                    ],
                    "C6B.2 DÃ©finir l'architecture technique adaptÃ©e...": [
                        "Les nomenclatures utilisÃ©es doivent Ãªtre impÃ©rativement univoques et homogÃ¨nes.",
                        "Le document de spÃ©cifications fonctionnelles doit Ãªtre structurÃ©, hiÃ©rarchisÃ©, lisible et s'appuyer sur des reprÃ©sentations graphiques dans le respect des bonnes pratiques et des standards du secteur.",
                        "Les enjeux d'Ã©volutivitÃ© de la solution doivent Ãªtre la clÃ© des choix architecturaux et de l'expression de leur motivation dans le document."
                    ],
                    "C6B.3 Emettre des prÃ©conisations quant Ã  la rÃ©solution de problÃ¨mes techniques...": [
                        "Le candidat devra expliciter et valider au regard des connaissances et bonnes pratiques existantes: la mÃ©thode adÃ©quate pour identifier la source des bogues, la maniÃ¨re de les pratiques de test et la validation des correctifs.",
                        "Les prÃ©conisations en matiÃ¨re de corrections de bogues sont rÃ©alistes et pertinentes au regard du problÃ¨me technique identifiÃ©.",
                        "Le candidat utilise correctement le vocabulaire et les terminologies mÃ©tiers."
                    ]
                }
            }
        };

        const sdEvaluationCriteria = {
            B7: {
                title: "Concevoir et mettre en Å“uvre de la stratÃ©gie de communication",
                criteria: {
                    "C6A.1 Ã‰laborer et dÃ©ployer une stratÃ©gie de brand content": [
                        "Le candidat identifie correctement son audience (groupe de personnes susceptibles d'adhÃ©rer Ã  la marque et/ou de rÃ©agir Ã  son discours).",
                        "La stratÃ©gie de brand content est claire et intÃ¨gre l'identitÃ© visuelle, la planification des publications, les types de contenus (Ã©crits, visuels, sonores, audiovisuels, oeuvres... Ã  publier et la teneur des messages Ã  porter (style, vocabulaire, ton...)).",
                        "Le candidat choisit les mÃ©dias pertinents sur lesquels diffuser sa stratÃ©gie de brand content au regard de la stratÃ©gie globale de l'organisation et de sa cible."
                    ],
                    "C6A 2 Promouvoir un site internet, une application mobile ou une web app": [
                        "Le candidat propose une stratÃ©gie de rÃ©fÃ©rencement (naturel et payant) cohÃ©rente par rapport Ã  la stratÃ©gie globale de l'organisation, sa cible, son positionnement et son budget.",
                        "Le candidat prÃ©sente une stratÃ©gie de cross-promotion rÃ©aliste et pertinente intÃ©grant l'ensemble des mÃ©dias sur lesquels communiquer en vue de la promotion du site interne/de l'application mobile/web mobile."
                    ],
                    "C6A.3 Produire un contenu diffÃ©renciant et/ou innovant": [
                        "Le candidat dÃ©termine des objectifs chiffrÃ©s et mesurables d'acquisition et de transformation des cibles visÃ©es selon les canaux de communication retenus dans le cadre de la stratÃ©gie de brand content.",
                        "Le candidat propose une ligne Ã©ditoriale claire et diffÃ©renciante. Cette ligne Ã©ditoriale est respectÃ©e dans le cadre de la production des diffÃ©rents contenus.",
                        "Le contenu proposÃ© par le candidat est diffÃ©renciant en ce sens qu'il aborde le sujet en profondeur, en s'appuyant sur l'existant (source) et en intÃ©grant un point de vue novateur.",
                        "Le candidat dÃ©montre sa capacitÃ© Ã  mobiliser des connaissances thÃ©oriques (thÃ©ories, actualitÃ©, mÃ©thodes de travail...) et Ã  les adapter pour rÃ©pondre Ã  un contexte spÃ©cifique et complexe."
                    ]
                }
            }
        };

        const motivationalPhrases = [
            { title: "N'abandonnez jamais", text: "Chaque pas, mÃªme le plus petit, vous rapproche de votre objectif. La persÃ©vÃ©rance est la clÃ© du succÃ¨s." },
            { title: "Le succÃ¨s est au bout de l'effort", text: "La seule limite Ã  notre Ã©panouissement de demain sera nos doutes d'aujourd'hui." },
            { title: "Croyez en vos rÃªves", text: "La meilleure faÃ§on de prÃ©dire l'avenir est de le crÃ©er." },
            { title: "Chaque jour est une nouvelle chance", text: "Ne laissez pas hier prendre trop de place aujourd'hui." },
            { title: "Le travail d'Ã©quipe rend le rÃªve possible", text: "Seul on va plus vite, ensemble on va plus loin." },
        ];

        // Ã‰tat de l'application
        let selectedSpecialization = localStorage.getItem('mba_tracker_specialization') || 'CDO';
        let programProgress = JSON.parse(localStorage.getItem('mba_tracker_progress')) || initialProgramData.map(block => ({
            ...block,
            modules: block.modules.map(module => ({ ...module, topics: module.topics.map(topic => ({ text: topic, isCompleted: false })) })),
            evaluation: block.evaluation ? { ...block.evaluation, isCompleted: false, details: block.evaluation.details ? block.evaluation.details.map(d => ({...d, isCompleted: false})) : undefined } : undefined,
        }));
        let sessions = sessionsData;
        let expandedBlocks = JSON.parse(localStorage.getItem('mba_tracker_expandedBlocks')) || {};
        let expandedModules = JSON.parse(localStorage.getItem('mba_tracker_expandedModules')) || {};
        let isCalendarTableExpanded = JSON.parse(localStorage.getItem('mba_tracker_calendarExpanded')) || false;
        let selectedSessionIndex = localStorage.getItem('mba_tracker_selectedSessionIndex') || 0;
        let countdown = {};
        let motivationalPhrase = {};
        let userInfo = JSON.parse(localStorage.getItem('mba_tracker_user_info'));
        let isFormVisible = !userInfo;

        // Ã‰lÃ©ments du DOM
        const appRoot = document.getElementById('app-root');
        const scrollBtn = document.getElementById('scroll-to-top-btn');

        // Fonctions utilitaires
        function saveState() {
            localStorage.setItem('mba_tracker_progress', JSON.stringify(programProgress));
            localStorage.setItem('mba_tracker_specialization', selectedSpecialization);
            localStorage.setItem('mba_tracker_expandedBlocks', JSON.stringify(expandedBlocks));
            localStorage.setItem('mba_tracker_expandedModules', JSON.stringify(expandedModules));
            localStorage.setItem('mba_tracker_calendarExpanded', JSON.stringify(isCalendarTableExpanded));
            localStorage.setItem('mba_tracker_selectedSessionIndex', selectedSessionIndex);
        }

        function calculateProgress(items) {
            const total = items.length;
            if (total === 0) return 0;
            const completed = items.filter(item => item.isCompleted).length;
            return Math.round((completed / total) * 100);
        }

        function formatDate(dateString) {
            const [year, month, day] = dateString.split('-');
            return `${day}/${month}/${year}`;
        }
        
        function getBlockColor(blockCode) {
            if (blockCode === 'B6' && selectedSpecialization === 'CDO') return 'orange';
            if (blockCode === 'B7' && selectedSpecialization === 'SD') return 'fuchsia';
            return 'blue';
        }

        function render() {
            if (isFormVisible) {
                renderForm();
            } else {
                renderMainApp();
            }
        }
        
        function renderForm() {
            appRoot.innerHTML = `
                <div class="form-section">
                    <h2 class="text-2xl font-semibold text-white mb-4">Bienvenue ! ðŸ‘‹</h2>
                    <p class="text-secondary-text-color mb-4">
                        Pour commencer, veuillez saisir vos informations. Elles seront conservÃ©es localement dans votre navigateur pour personnaliser votre suivi.
                    </p>
                    <form id="user-form">
                        <div class="mb-4">
                            <label class="block text-secondary-text-color text-sm font-bold mb-2" for="firstName">PrÃ©nom</label>
                            <input class="form-input" id="firstName" type="text" value="${userInfo?.firstName || ''}" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-secondary-text-color text-sm font-bold mb-2" for="name">Nom</label>
                            <input class="form-input" id="name" type="text" value="${userInfo?.name || ''}" required>
                        </div>
                        <div class="mb-6">
                            <label class="block text-secondary-text-color text-sm font-bold mb-2" for="pseudo">Pseudo (facultatif)</label>
                            <input class="form-input" id="pseudo" type="text" value="${userInfo?.pseudo || ''}">
                        </div>
                        <div class="flex items-center justify-between">
                            <button class="btn-primary" type="submit">Commencer</button>
                        </div>
                    </form>
                </div>
            `;
            document.getElementById('user-form').addEventListener('submit', handleFormSubmit);
        }

        function renderMainApp() {
            const userInfoElement = `
                <div class="section max-w-4xl mx-auto">
                    <h2 class="text-2xl font-semibold text-white mb-2">
                        Bienvenue dans votre parcours, <span class="text-accent-yellow">${userInfo.firstName} ${userInfo.name}</span> ! ðŸ‘‹
                    </h2>
                    <p class="text-secondary-text-color mb-4">
                        Ici, vous pouvez suivre votre progression et accÃ©der aux critÃ¨res d'Ã©valuation de votre programme.
                    </p>
                    <div class="specialization-selection">
                        <button class="btn btn-cdo ${selectedSpecialization === 'CDO' ? 'active' : ''}" onclick="handleSpecializationChange('CDO')">CDO</button>
                        <button class="btn btn-sd ${selectedSpecialization === 'SD' ? 'active' : ''}" onclick="handleSpecializationChange('SD')">SD</button>
                    </div>
                </div>
            `;

            appRoot.innerHTML = userInfoElement + renderCalendar() + renderGlobalProgress() + renderProgramBlocks() + renderEvaluations();
            
            // Re-attacher les Ã©couteurs d'Ã©vÃ©nements pour le calendrier
            document.getElementById('session-select').addEventListener('change', (e) => handleSessionChange(e.target.value));
            document.querySelectorAll('[onchange*="handleDateChange"]').forEach(input => {
                const index = parseInt(input.getAttribute('onchange').match(/\d+/)[0]);
                input.addEventListener('change', (e) => handleDateChange(index, e.target.value));
            });
            document.querySelectorAll('[onclick*="toggleCalendarTable"]').forEach(el => el.addEventListener('click', toggleCalendarTable));
            document.querySelectorAll('[onclick*="toggleBlock"]').forEach(el => {
                const blockCode = el.getAttribute('onclick').match(/'(.*?)'/)[1];
                el.addEventListener('click', () => toggleBlock(blockCode));
            });
            document.querySelectorAll('[onclick*="toggleModule"]').forEach(el => {
                const moduleCode = el.getAttribute('onclick').match(/'(.*?)'/)[1];
                el.addEventListener('click', () => toggleModule(moduleCode));
            });
            document.querySelectorAll('[onchange*="handleTopicChange"]').forEach(input => {
                const args = input.getAttribute('onchange').match(/(\d+|'[^']*')/g);
                const blockIndex = parseInt(args[0]);
                const moduleIndex = parseInt(args[1]);
                const topicIndex = parseInt(args[2]);
                input.addEventListener('change', () => handleTopicChange(blockIndex, moduleIndex, topicIndex));
            });
            document.querySelectorAll('[onchange*="handleEvaluationChange"]').forEach(input => {
                const args = input.getAttribute('onchange').match(/(\d+|'[^']*')/g);
                const blockIndex = parseInt(args[0]);
                const evaluationLabel = args.length > 1 ? args[1].replace(/'/g, '') : null;
                input.addEventListener('change', () => handleEvaluationChange(blockIndex, evaluationLabel));
            });
        }
        
        function renderCalendar() {
            const currentSession = sessions[selectedSessionIndex];
            const countdownHTML = `
                <div class="p-4 bg-gray-900 rounded-lg shadow-inner mb-4">
                    <h3 class="text-lg font-bold mb-2 text-accent-yellow">Compte Ã  rebours de la session sÃ©lectionnÃ©e</h3>
                    <div class="flex items-center space-x-4 mb-4">
                        <span class="text-secondary-text-color font-medium">SÃ©lectionner une session :</span>
                        <select id="session-select" class="bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-1 focus:outline-none focus:border-blue-500">
                            ${sessions.map((session, index) => `<option value="${index}" ${index == selectedSessionIndex ? 'selected' : ''}>${session.promo} - ${session.session}</option>`).join('')}
                        </select>
                    </div>
                    <div class="grid grid-cols-4 gap-4 text-center">
                        <div class="p-4 bg-gray-700 rounded-lg">
                            <span class="block text-2xl font-bold text-accent-pink">${countdown.days}</span>
                            <span class="block text-sm text-secondary-text-color">Jours</span>
                        </div>
                        <div class="p-4 bg-gray-700 rounded-lg">
                            <span class="block text-2xl font-bold text-accent-pink">${countdown.hours}</span>
                            <span class="block text-sm text-secondary-text-color">Heures</span>
                        </div>
                        <div class="p-4 bg-gray-700 rounded-lg">
                            <span class="block text-2xl font-bold text-accent-pink">${countdown.minutes}</span>
                            <span class="block text-sm text-secondary-text-color">Minutes</span>
                        </div>
                        <div class="p-4 bg-gray-700 rounded-lg">
                            <span class="block text-2xl font-bold text-accent-pink">${countdown.seconds}</span>
                            <span class="block text-sm text-secondary-text-color">Secondes</span>
                        </div>
                    </div>
                    <p class="mt-4 text-sm text-secondary-text-color text-center">
                        Date limite de remise : le ${formatDate(currentSession.endDate)} Ã  23h59
                    </p>
                </div>
            `;
            
            const tableHTML = `
                <div class="overflow-x-auto mt-4" id="calendar-table" style="display: ${isCalendarTableExpanded ? 'block' : 'none'};">
                    <table class="min-w-full divide-y divide-gray-700">
                        <thead class="bg-gray-700">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Promo</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Session</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Date de dÃ©but (modifiable)</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Date de fin</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Nature de la date de fin</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-700">
                            ${sessions.map((session, index) => `
                                <tr class="bg-gray-800 hover:bg-gray-700 transition-colors duration-200">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-white">${session.promo}</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-secondary-text-color">${session.session}</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-secondary-text-color">
                                        <input type="date" value="${session.startDate}" onchange="handleDateChange(${index}, this.value)" class="bg-gray-900 border border-gray-600 rounded-md px-2 py-1 text-sm text-white focus:outline-none focus:border-blue-500" />
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-secondary-text-color">${formatDate(session.endDate)}</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">
                                        <div class="flex items-center space-x-2">
                                            ${session.isConfirmed ? '<svg class="text-accent-green w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" /></svg>' : '<svg class="text-accent-yellow w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L1 21h22L12 2zm1 14h-2v-2h2v2zm0-4h-2V8h2v4z" /></svg>'}
                                            <span class="text-secondary-text-color">${session.status}</span>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;

            return `
                <section class="section">
                    <div class="card-header-main" onclick="toggleCalendarTable()">
                        <div class="flex items-center">
                            <svg class="chevron-icon ${isCalendarTableExpanded ? 'rotate' : ''}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" /></svg>
                            <h2>Calendrier des sessions ðŸ“…</h2>
                        </div>
                    </div>
                    ${countdownHTML}
                    <div class="card-header-main" onclick="toggleCalendarTable()">
                             <div class="flex items-center">
                                <svg class="chevron-icon ${isCalendarTableExpanded ? 'rotate' : ''}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" /></svg>
                                <h3 class="text-white">DÃ©tails des sessions</h3>
                             </div>
                    </div>
                    ${tableHTML}
                </section>
            `;
        }

        function renderGlobalProgress() {
            const allTopics = programProgress.flatMap(block =>
                block.modules.flatMap(module => module.topics)
            );
            const progress = calculateProgress(allTopics);
            return `
                <section class="section">
                    <h2 class="text-2xl font-semibold text-white mb-2">Progression Globale ðŸ“ˆ</h2>
                    <div class="flex items-center space-x-4">
                        <span class="text-3xl font-extrabold text-white">${progress}%</span>
                        <div class="w-full bg-gray-700 rounded-full h-2.5 mt-2 overflow-hidden">
                            <div class="h-2.5 rounded-full transition-all duration-500 ease-in-out" style="width: ${progress}%; background: linear-gradient(90deg, #ffc107, #ff4081);"></div>
                        </div>
                    </div>
                </section>
            `;
        }

        function renderProgramBlocks() {
            const criteriaTitleColor = selectedSpecialization === 'SD' ? 'text-sd' : 'text-cdo';
            const criteriaBulletColor = selectedSpecialization === 'SD' ? 'text-accent-pink' : 'text-accent-yellow';

            return `
                <main class="grid gap-8">
                    ${programProgress.map((block, blockIndex) => {
                        if (block.specialization && block.specialization !== selectedSpecialization) {
                            return '';
                        }
                        
                        const isBlockExpanded = expandedBlocks[block.code];
                        const blockProgress = calculateProgress(block.modules.flatMap(m => m.topics));
                        const accentColor = getBlockColor(block.code);
                        const headerColor = block.specialization === 'CDO' ? 'text-cdo' : 'text-sd';

                        let criteriaHTML = '';
                        const shared = sharedEvaluationCriteria[block.code];
                        const specific = selectedSpecialization === 'CDO' ? cdoEvaluationCriteria[block.code] : sdEvaluationCriteria[block.code];

                        if (shared || specific) {
                            let criteriaContent = '';
                            if (shared && shared.criteria) {
                                for (const compCode in shared.criteria) {
                                    criteriaContent += `<div class="mb-4">
                                        <h5 class="text-md font-semibold text-gray-300 mb-2">${compCode}</h5>
                                        <ul class="criteria-list space-y-1 text-secondary-text-color">
                                            ${shared.criteria[compCode].map(crit => `
                                                <li class="criteria-item">
                                                    <span class="criteria-bullet">â­</span>
                                                    <p class="justified-text text-sm text-gray-400">${crit}</p>
                                                </li>
                                            `).join('')}
                                        </ul>
                                    </div>`;
                                }
                            }
                            if (specific && specific.criteria) {
                                criteriaContent += `<h5 class="text-md font-semibold ${headerColor} mb-2 mt-4">
                                    CritÃ¨res spÃ©cifiques au ${selectedSpecialization} :
                                </h5>`;
                                for (const compCode in specific.criteria) {
                                    criteriaContent += `<div class="mb-4">
                                        <h5 class="text-md font-semibold text-gray-300 mb-2">${compCode}</h5>
                                        <ul class="criteria-list space-y-1 text-secondary-text-color">
                                            ${specific.criteria[compCode].map(crit => `
                                                <li class="criteria-item">
                                                    <span class="criteria-bullet">â­</span>
                                                    <p class="justified-text text-sm text-gray-400">${crit}</p>
                                                </li>
                                            `).join('')}
                                        </ul>
                                    </div>`;
                                }
                            }

                            criteriaHTML = `
                                <div class="mt-4 p-4 bg-gray-900 rounded-xl shadow-inner">
                                    <h4 class="text-lg font-bold ${criteriaTitleColor} mb-4">CritÃ¨res d'Ã©valuation du bloc ðŸ“</h4>
                                    ${criteriaContent}
                                </div>
                            `;
                        }
                        
                        return `
                            <div class="section block-container">
                                <div class="card-header" onclick="toggleBlock('${block.code}')">
                                    <div class="flex items-center">
                                        <svg class="chevron-icon ${isBlockExpanded ? 'rotate' : ''}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" /></svg>
                                        <h2 class="${headerColor}">${block.code} : ${block.title}</h2>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <span class="text-lg font-semibold text-white">${blockProgress}%</span>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar-block bg-${accentColor}" style="width: ${blockProgress}%;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="block-content-${block.code}" style="display: ${isBlockExpanded ? 'block' : 'none'};">
                                    ${block.modules.map((module, moduleIndex) => `
                                        <div class="p-4 bg-gray-700 rounded-lg mt-4">
                                            <div class="card-header" onclick="toggleModule('${module.code}')">
                                                <div class="flex items-center">
                                                    <svg class="chevron-icon w-5 h-5 mr-2 text-gray-300 ${expandedModules[module.code] ? 'rotate' : ''}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" /></svg>
                                                    <h3 class="text-md font-semibold text-gray-200">${module.code} : ${module.title}</h3>
                                                </div>
                                                <span class="text-sm font-medium text-gray-300">${calculateProgress(module.topics)}%</span>
                                            </div>
                                            <div id="module-content-${module.code}" style="display: ${expandedModules[module.code] ? 'block' : 'none'};">
                                                <div class="grid gap-2 mt-2">
                                                    ${module.topics.map((topic, topicIndex) => `
                                                        <div class="evaluation-item text-gray-300">
                                                            <input type="checkbox" onchange="handleTopicChange(${blockIndex}, ${moduleIndex}, ${topicIndex})" ${topic.isCompleted ? 'checked' : ''} class="form-checkbox" />
                                                            <span class="ml-3 text-sm">${topic.text}</span>
                                                        </div>
                                                    `).join('')}
                                                </div>
                                            </div>
                                        </div>
                                    `).join('')}
                                    ${criteriaHTML}
                                </div>
                            </div>
                        `;
                    }).join('')}
                </main>
            `;
        }

        function renderEvaluations() {
            const filteredBlocks = programProgress.filter(block =>
                !block.specialization || block.specialization === selectedSpecialization
            );
            return `
                <section class="section">
                    <h2 class="text-2xl font-semibold text-white mb-4">Suivi des Ã©valuations ðŸ“‹</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${filteredBlocks.map((block, blockIndex) => {
                            if (block.evaluation) {
                                return `
                                    <div class="p-4 bg-gray-700 rounded-lg">
                                        <h3 class="text-md font-bold text-gray-200 mb-2">${block.evaluation.title}</h3>
                                        ${block.evaluation.details ? block.evaluation.details.map((detail, detailIndex) => `
                                            <div class="evaluation-item text-gray-300">
                                                <input type="checkbox" onchange="handleEvaluationChange(${blockIndex}, '${detail.label}')" ${detail.isCompleted ? 'checked' : ''} class="form-checkbox" />
                                                <span class="ml-3 text-sm">${detail.label}</span>
                                            </div>
                                        `).join('') : `
                                            <div class="evaluation-item text-gray-300">
                                                <input type="checkbox" onchange="handleEvaluationChange(${blockIndex})" ${block.evaluation.isCompleted ? 'checked' : ''} class="form-checkbox" />
                                                <span class="ml-3 text-sm">Ã‰valuation du bloc terminÃ©e</span>
                                            </div>
                                        `}
                                    </div>
                                `;
                            }
                            return '';
                        }).join('')}
                    </div>
                </section>
            `;
        }
        
        function renderMotivationalPhrase() {
            const randomPhrase = motivationalPhrases[Math.floor(Math.random() * motivationalPhrases.length)];
            const phraseElement = document.getElementById('motivational-phrase');
            if (phraseElement) {
                 phraseElement.innerHTML = `
                    <div class="p-6 bg-gray-800 rounded-xl shadow-lg">
                        <h3 class="text-xl font-bold mb-2 text-accent-yellow">${randomPhrase.title}</h3>
                        <p class="text-gray-300 text-lg">${randomPhrase.text}</p>
                    </div>
                 `;
            }
        }

        // Gestionnaires d'Ã©vÃ©nements
        function handleFormSubmit(e) {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const firstName = document.getElementById('firstName').value;
            const pseudo = document.getElementById('pseudo').value;
            userInfo = { name, firstName, pseudo };
            localStorage.setItem('mba_tracker_user_info', JSON.stringify(userInfo));
            isFormVisible = false;
            render();
        }

        function handleSpecializationChange(spec) {
            selectedSpecialization = spec;
            saveState();
            render();
        }

        function handleSessionChange(index) {
            selectedSessionIndex = parseInt(index);
            saveState();
            render();
        }
        
        function handleTopicChange(blockIndex, moduleIndex, topicIndex) {
            programProgress[blockIndex].modules[moduleIndex].topics[topicIndex].isCompleted = !programProgress[blockIndex].modules[moduleIndex].topics[topicIndex].isCompleted;
            saveState();
            render();
        }

        function handleEvaluationChange(blockIndex, evaluationLabel = null) {
            const evaluation = programProgress[blockIndex].evaluation;
            if (evaluationLabel && evaluation.details) {
                const detail = evaluation.details.find(d => d.label === evaluationLabel);
                if (detail) {
                    detail.isCompleted = !detail.isCompleted;
                }
            } else {
                evaluation.isCompleted = !evaluation.isCompleted;
            }
            saveState();
            render();
        }

        function toggleBlock(blockCode) {
            expandedBlocks[blockCode] = !expandedBlocks[blockCode];
            saveState();
            render();
        }

        function toggleModule(moduleCode) {
            expandedModules[moduleCode] = !expandedModules[moduleCode];
            saveState();
            render();
        }
        
        function toggleCalendarTable() {
            isCalendarTableExpanded = !isCalendarTableExpanded;
            saveState();
            render();
        }

        function handleDateChange(index, newDate) {
            sessions[index].startDate = newDate;
            saveState();
            render();
        }
        
        // Timer du dÃ©compte
        let countdownInterval;
        function updateCountdown() {
            const currentSession = sessions[selectedSessionIndex];
            if (!currentSession) return;
            const deadline = new Date(`${currentSession.endDate}T23:59:59`).getTime();
            const now = new Date().getTime();
            const distance = deadline - now;
            
            if (distance < 0) {
                countdown = { days: 0, hours: 0, minutes: 0, seconds: 0 };
                clearInterval(countdownInterval);
            } else {
                countdown = {
                    days: Math.floor(distance / (1000 * 60 * 60 * 24)),
                    hours: Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),
                    minutes: Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)),
                    seconds: Math.floor((distance % (1000 * 60)) / 1000),
                };
            }
            render();
        }
        
        // Bouton de retour en haut
        window.onscroll = () => {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                scrollBtn.style.display = "block";
            } else {
                scrollBtn.style.display = "none";
            }
        };

        scrollBtn.onclick = () => window.scrollTo({ top: 0, behavior: 'smooth' });

        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            render();
            renderMotivationalPhrase();
            countdownInterval = setInterval(updateCountdown, 1000);
        });
    </script>
</body>
</html>
